N=window.N||{},N.editor=function(){function a(){b(),c(),N.getFirstVisit()?(console.log("FIRST"),e(N.getCurrId())):(console.log("SECOND"),d(N.getCurrId()))}function b(){f=document.querySelector(".note-header"),g=document.querySelector(".note-body")}function c(){document.onkeyup=function(){e(N.getCurrId())}}function d(a){f.innerHTML=h["h_"+a],g.innerHTML=h["b_"+a],console.log("note #"+a+" loaded")}function e(a){h["h_"+a]=f.innerHTML,h["b_"+a]=g.innerHTML,console.log("#"+a+" saved")}var f,g,h=localStorage;return{init:a}}(),N=window.N||{},N.list=function(){function a(){b(),c(),d(),localStorage.active||(localStorage.all_notes="1",localStorage.active=!0)}function b(){f=document.querySelector(".list"),g=f.querySelector(".list-items"),h=f.querySelector(".list-create")}function c(){h.onclick=function(){var a=(document.createElement("a"),Math.max.apply(null,localStorage.all_notes.split(","))+1);g.appendChild(e(a,"New note")),localStorage.all_notes+=","+a}}function d(){if(N.utils.supportHTMLStorage())if(localStorage.all_notes){for(var a,b=localStorage.all_notes.split(","),c=b.length;g.firstChild;)g.removeChild(g.firstChild);for(var d=0;c>d;d++)a=document.createElement("a"),a.dataset.id=b[d],a.href="#"+b[d],a.innerHTML=N.utils.getNote(b[d],!0),g.appendChild(a)}else localStorage.all_notes="1"}function e(a,b){var c=document.createElement("a");document.createElement("div");return c.href="#"+a,c.dataset.id=a,c.innerHTML=b,c}var f,g,h;return{init:a,loadState:d}}(),N=window.N||{},N=function(){function a(){"firstVisit"in e?e.firstVisit=!1:(e.firstVisit=!0,e.curr_id=1,e.all_notes="1")}function b(){return"true"===e.firstVisit}function c(){return+e.curr_id}function d(a){return e.curr_id=+a}var e=localStorage;return{init:a,getFirstVisit:b,getCurrId:c,setCurrId:d}}(),N=window.N||{},N.router=function(){function a(){"onhashchange"in window&&(window.onhashchange=function(){b()}),b()}function b(){c=window.location.hash.substr(1),c&&localStorage.all_notes&&-1!==localStorage.all_notes.split(",").indexOf(c)?(N.editor.currId(c),N.editor.init(),console.log("loadNote")):(window.location.hash="",console.log("loadNote NOT"))}var c;return{init:a}}(),N=window.N||{},N.ui=void 0,N=window.N||{},N.utils=function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}function b(a,b){return b?localStorage["h_"+a]:{head:localStorage["h_"+a],body:localStorage["b_"+a]}}return{supportHTMLStorage:a,getNote:b}}();