N=window.N||{},N.editor=function(){function a(){b(),c(),N.getFirstVisit()?e(N.getCurrId()):d(N.getCurrId())}function b(){f=document.querySelector(".note-header"),g=document.querySelector(".note-body")}function c(){f.onkeyup=function(){e(N.getCurrId()),N.list.loadState()},f.onkeydown=function(a){13===a.keyCode&&(a.preventDefault(),g.focus())},g.onkeyup=function(){e(N.getCurrId())}}function d(a){f.innerHTML=h["h_"+a],g.innerHTML=h["b_"+a]}function e(a){h["h_"+a]=f.innerHTML,h["b_"+a]=g.innerHTML}var f,g,h=localStorage;return{init:a,loadState:d}}(),N=window.N||{},N.list=function(){function a(){b(),c(),d()}function b(){f=document.querySelector(".list"),g=f.querySelector(".list-items"),h=f.querySelector(".list-create"),i=document.querySelector(".delete")}function c(){h.onclick=function(){var a=Math.max.apply(null,j.all_notes.split(","))+1;g.appendChild(e(a,"New note")),j.all_notes+=","+a,N.addNote(a),N.setCurrId(a),N.editor.loadState(a)},i.onclick=function(){confirm("Are you sure to delete note?")&&N.deleteNote(N.getCurrId())}}function d(){for(var a=j.all_notes.split(","),b=a.length;g.firstChild;)g.removeChild(g.firstChild);for(var c=0;b>c;c++)g.appendChild(e(a[c],N.getNote(a[c],!0)))}function e(a,b){var c=document.createElement("a");document.createElement("div");return c.href="#"+a,c.dataset.id=a,c.innerHTML=b,c}var f,g,h,i,j=localStorage;return{init:a,loadState:d}}(),N=window.N||{},N=function(){function a(){"firstVisit"in h?h.firstVisit=!1:(h.firstVisit=!0,h.curr_id=1,h.all_notes="1")}function b(){return"true"===h.firstVisit}function c(){return+h.curr_id}function d(a){return h.curr_id=+a}function e(a,b){return b?h["h_"+a]:{head:h["h_"+a],body:h["b_"+a]}}function f(a){h["h_"+a]="New note",h["b_"+a]=""}function g(a){var b,c,d;delete h["h_"+a],delete h["b_"+a],c=h.all_notes.split(","),b=c.indexOf(a+""),c.splice(b,1),h.all_notes=c.join(","),d=document.querySelectorAll('[data-id="'+a+'"]')[0],d.parentNode.removeChild(d),N.editor.loadState(1)}var h=localStorage;return{init:a,getFirstVisit:b,getCurrId:c,setCurrId:d,getNote:e,addNote:f,deleteNote:g}}(),N=window.N||{},N.router=function(){function a(){"onhashchange"in window&&(window.onhashchange=function(){b()}),b()}function b(){c=window.location.hash.substr(1),c&&localStorage.all_notes&&-1!==localStorage.all_notes.split(",").indexOf(c)?(N.setCurrId(c),N.editor.loadState(c)):(window.location.hash="",N.setCurrId(1))}var c;localStorage;return{init:a}}(),N=window.N||{},N.ui=void 0,N=window.N||{},N.utils=function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}return{supportHTMLStorage:a}}();